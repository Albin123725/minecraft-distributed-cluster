services:
  # ========================
  # PROXY SERVER
  # ========================
  - type: web
    name: mc-proxy-main
    env: docker
    plan: free
    docker:
      dockerfile: proxy-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "proxy"
      - key: NODE_ID
        value: "proxy-main"
      - key: PROXY_PORT
        value: "25565"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    healthCheckPath: /health
    numInstances: 1
    ports:
      - port: 25565
        protocol: TCP

  # ========================
  # GAME SERVERS 1-16
  # ========================
  - type: web
    name: mc-game-1
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-1"
      - key: SERVER_PORT
        value: "25566"
      - key: WORLD_REGION
        value: "spawn"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-2
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-2"
      - key: SERVER_PORT
        value: "25567"
      - key: WORLD_REGION
        value: "nether"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-3
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-3"
      - key: SERVER_PORT
        value: "25568"
      - key: WORLD_REGION
        value: "end"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-4
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-4"
      - key: SERVER_PORT
        value: "25569"
      - key: WORLD_REGION
        value: "wilderness-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-5
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-5"
      - key: SERVER_PORT
        value: "25570"
      - key: WORLD_REGION
        value: "wilderness-2"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-6
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-6"
      - key: SERVER_PORT
        value: "25571"
      - key: WORLD_REGION
        value: "wilderness-3"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-7
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-7"
      - key: SERVER_PORT
        value: "25572"
      - key: WORLD_REGION
        value: "wilderness-4"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-8
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-8"
      - key: SERVER_PORT
        value: "25573"
      - key: WORLD_REGION
        value: "ocean-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-9
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-9"
      - key: SERVER_PORT
        value: "25574"
      - key: WORLD_REGION
        value: "ocean-2"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-10
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-10"
      - key: SERVER_PORT
        value: "25575"
      - key: WORLD_REGION
        value: "mountain-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-11
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-11"
      - key: SERVER_PORT
        value: "25576"
      - key: WORLD_REGION
        value: "mountain-2"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-12
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-12"
      - key: SERVER_PORT
        value: "25577"
      - key: WORLD_REGION
        value: "desert-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-13
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-13"
      - key: SERVER_PORT
        value: "25578"
      - key: WORLD_REGION
        value: "desert-2"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-14
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-14"
      - key: SERVER_PORT
        value: "25579"
      - key: WORLD_REGION
        value: "forest-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-15
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-15"
      - key: SERVER_PORT
        value: "25580"
      - key: WORLD_REGION
        value: "forest-2"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  - type: web
    name: mc-game-16
    env: docker
    plan: free
    docker:
      dockerfile: game-server/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "game"
      - key: NODE_ID
        value: "game-16"
      - key: SERVER_PORT
        value: "25581"
      - key: WORLD_REGION
        value: "village-1"
      - key: MANAGEMENT_URL
        value: "mc-management.onrender.com"
      - key: PROXY_URL
        value: "mc-proxy-main.onrender.com"
      - key: SYNC_INTERVAL
        value: "300"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    numInstances: 1

  # ========================
  # MANAGEMENT DASHBOARD
  # ========================
  - type: web
    name: mc-management
    env: docker
    plan: free
    docker:
      dockerfile: management/Dockerfile
    envVars:
      - key: SERVICE_TYPE
        value: "management"
      - key: NODE_ID
        value: "dashboard-main"
      - key: DASHBOARD_PORT
        value: "10000"
      - key: RCON_TIMEOUT
        value: "10"
      - key: CLUSTER_VERSION
        value: "2.0.0"
    autoDeploy: true
    healthCheckPath: /health
    numInstances: 1
    ports:
      - port: 10000
        protocol: HTTP
